---
Resources:
  MyInstances:
    Type: AWS::EC2::Instance
    Properties:
      AvailabilityZone: ap-south-1a
      ImageId: ami-08df646e18b182346
      InstanceType: t2.micro
      SecurityGroups:
        - !Ref ServerSecurityGroup

  ServerSecurityGroup:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: Controls connection
      SecurityGroupEgress:
        - IpProtocol: '-1'
          FromPort: ''
          ToPort: ''
          CidrIp: 0.0.0.0/0